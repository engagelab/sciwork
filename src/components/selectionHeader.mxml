<?xml version="1.0" encoding="utf-8"?>
<s:SkinnableContainer xmlns:fx="http://ns.adobe.com/mxml/2009" 
					  xmlns:s="library://ns.adobe.com/flex/spark" 
					  xmlns:mx="library://ns.adobe.com/flex/mx" backgroundColor="#333333" skinClass="skins.selectionHeaderSkin">
	
	<fx:Script>
		<![CDATA[
			import content.workarea.selection.TweetsSelection;
			
			import listeners.TweetSelectionBarEvent;
			
			import mx.collections.ArrayCollection;
			
			import spark.events.IndexChangeEvent;
			
			[Bindable] private var BUTTON_ARRAY:ArrayCollection = new ArrayCollection([{label: "Portfolio"}, {label: "Livefeed"}]);
			
			/**
			 *
			 * click handler for the button editButton in component selectionheader
			 * 
			 **/
			protected function bubbleUpKeywords(event:MouseEvent):void {
				dispatchEvent(new Event(resourceManager.getString('resources', 'EDIT_KEYWORD_LIST'), true));
			}
			
			/**
			 *
			 * click handler for the button editButton in component selectionheader
			 * 
			 **/
			protected function tweetSelectionBarHandler(event:IndexChangeEvent):void {
				var tsbe:TweetSelectionBarEvent = new TweetSelectionBarEvent(resourceManager.getString('resources', 'TWEET_SELECTION_CHANGE'), true);
				switch(event.newIndex) {
					case 0:
						tsbe.newState = TweetsSelection.SELECTION_STATE;			
						break;
					case 1:
						tsbe.newState = TweetsSelection.LIVEFEED_STATE;			
						break;
				}
				dispatchEvent(tsbe);
			}
			
		]]>
	</fx:Script>
	
	<s:states>
		<s:State name="default" />
		<s:State name="keywords" />
		<s:State name="tweets" />
	</s:states>
	
	<s:Button label="edit" right="2" top="2" bottom="2" chromeColor="#333333" color="#FFFFFF" includeIn="keywords" fontSize="10" skinClass="skins.editKeywordListButton" click="bubbleUpKeywords(event)" />
	<s:ButtonBar width="100%" right="2" top="2" bottom="2" chromeColor="#333333" color="#FFFFFF" includeIn="tweets" fontSize="10" dataProvider="{BUTTON_ARRAY}" requireSelection="true" change="tweetSelectionBarHandler(event)"/>

</s:SkinnableContainer>
